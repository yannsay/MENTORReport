getwd()
?cat
?print
test <- data.frame(x = 1:100, y = rnorm(100))
test[50,2] <- 100
plot(test$x, test$y, type = "l")
library(nlme)
library(lattice)
xyplot(weight ~ Time | Diet, BodyWeight)
str(BodyWeight)
panel.abline()
panel.abline(a = 1)
panel.abline(a = 5)
panel.abline(a = "blabla")
text(x = 1)
p <- xyplot(Ozone ~ Wind | factor(Month), data = airquality)
p
library(datasets)
data(airquality)
airquality = transform(airquality, Month = factor(Month))
qplot(Wind, Ozone, data = airquality, facets = . ~ Month)
qplot(Wind, Ozone, data = airquality, facets = . ~ factor(Month))
qplot(Wind, Ozone, data = airquality, geom = "smooth")
library(ggplot2)
airquality = transform(airquality, Month = factor(Month))
qplot(Wind, Ozone, data = airquality, facets = . ~ Month)
qplot(Wind, Ozone, data = airquality, facets = . ~ factor(Month))
qplot(Wind, Ozone, data = airquality, geom = "smooth")
qplot(Wind, Ozone, data = airquality)
qplot(Wind, Ozone, data = airquality, facets = . ~ factor(Month))
library(ggplot2)
g <- ggplot(movies, aes(votes, rating))
print(g)
g <- g + geom_point()
g
qplot(votes, rating, data = movies)
qplot(votes, rating, data = movies) + geom_smooth()
qplot(votes, rating, data = movies, smooth = "loess")
qplot(votes, rating, data = movies) + geom_smooth()
qplot(votes, rating, data = movies, panel = panel.loess)
qplot(votes, rating, data = movies) + stats_smooth("loess")
?print.trellis
?trellis.par.set
?axis
?panel.abline
?text
?panel.abline
?panel.abline
?axis
?trellis.par.set
?lpoints
?panel.lmline
?lines
set.seed(1234)
dataMatrix <- as.matrix(dataFrame)[sample(1:12),]
par(mar = c(0,0,0,0))
x <- rnorm(12, mean = rep(1:3, each = 4), sd = 0.2)
x <- rnorm(12, mean = rep(c(1, 2, 1), each = 4), sd = 0.2)
plot(x, y, col = "blue", pch = 19, cex = 2)
x <- rnorm(12, mean = rep(1:3, each = 4), sd = 0.2)
y <- rnorm(12, mean = rep(c(1, 2, 1), each = 4), sd = 0.2)
plot(x, y, col = "blue", pch = 19, cex = 2)
text(x + 0.05, y + 0.05, labels = as.character((1:12)))
dataFrame <- data.frame(x,y)
kmeansObj <- kmeans(dataFrame, centers = 3)
names(kmeansObj)
kmeansObj$cluster
par(mar = rep(0.2, 4))
plot(x,y, col = kmeansObj$cluster, pch = 19, cex = 2)
points(kmeansObj$centers, col = 1:3, pch = 3, lwd = 3)
set.seed(1234)
dataMatrix <- as.matrix(dataFrame)[sample(1:12),]
kmeansObj2 <- kmeans(dataMatrix, centers = 3)
par(mfrow = c(1,2), mar = c(2,4, 0.1, 0.1))
image(t(dataMatrix)[, nrow(dataMatrix):1], yaxt = "n")
image(t(dataMatrix)[, order(kmeansObj$cluster)], yaxt = "n")
image(t(dataMatrix)[, order(kmeansObj2$cluster)], yaxt = "n")
image(t(dataMatrix)[, order(kmeansObj$cluster)], yaxt = "n")
image(t(dataMatrix)[, order(kmeansObj$cluster)], yaxt = "n")
image(t(dataMatrix)[, nrow(dataMatrix):1], yaxt = "n")
image(t(dataMatrix)[, nrow(dataMatrix):1], yaxt = "n")
image(t(dataMatrix)[, order(kmeansObj2$cluster)], yaxt = "n")
set.seed(1234)
x <- rnorm(12, mean = rep(1:3, each = 4), sd = 0.2)
y <- rnorm(12, mean = rep(c(1, 2, 1), each = 4), sd = 0.2)
plot(x, y, col = "blue", pch = 19, cex = 2)
text(x + 0.05, y + 0.05, labels = as.character((1:12)))
dataFrame <- data.frame(x,y)
kmeansObj <- kmeans(dataFrame, centers = 3)
names(kmeansObj)
kmeansObj$cluster
par(mar = rep(0.2, 4))
plot(x,y, col = kmeansObj$cluster, pch = 19, cex = 2)
points(kmeansObj$centers, col = 1:3, pch = 3, lwd = 3)
set.seed(1234)
dataMatrix <- as.matrix(dataFrame)[sample(1:12),]
kmeansObj2 <- kmeans(dataMatrix, centers = 3)
par(mfrow = c(1,2), mar = c(2,4, 0.1, 0.1))
image(t(dataMatrix)[, nrow(dataMatrix):1], yaxt = "n")
image(t(dataMatrix)[, order(kmeansObj$cluster)], yaxt = "n")
image(t(dataMatrix)[, nrow(dataMatrix):1], yaxt = "n")
image(t(dataMatrix)[, order(kmeansObj2$cluster)], yaxt = "n")
setwd("C:/Users/Yann/Desktop/conception/git/MENTORReport")
list.files(path = )
source("MENTORReport.R")
str(data)
unique(data$Coartem0515)
unique(data$Coartem1525)
unique(data[,17:20])
?order
c1 <- c(3:1)
c2 <- c(4:6)
c3 <- rbind(c1, Cé)
c3 <- rbind(c1, c2)
c3
c3 <- as.data.frame(c1, c2)
c3
c3 <- cbind(c3, c2)
c3
order(c3, c3$c1)
order(c3)
order(c3$c1)
str(data)
data$DateViste[50] - data$DateViste[2]
as.integer(data$DateViste[50] - data$DateViste[2])
subdata <- data[which(data$DateViste >= "01/07/2015" & data$DateViste <= "31/07/2015"),]
summary(subdata)
subdata <- data[which(data$DateViste >= "01/07/2015" & data$DateViste =< "31/07/2015"),]
subdata <- data[which(data$DateViste > "01/07/2015" & data$DateViste < "31/07/2015"),]
subdata <- data[which(data$DateViste > as.Date("01/07/2015", "%d/%m/%Y") & data$DateViste < as.Date("31/07/2015", "%d/%m/%Y"),]
subdata <- data[which(data$DateViste > as.Date("01/07/2015", "%d/%m/%Y"),]
subdata <- data[which(data$DateViste > "01/07/2015",]
subdata <- data[which(data$DateViste > "01/07/2015"),]
subdata <- data[which(data$DateViste > "01/07/2015" & data$DateViste < "31/07/2015"),]
subdata <- data[which((data$DateViste > "01/07/2015") & (data$DateViste < "31/07/2015")),]
subdata <- data[which(data$DateViste > "01/07/2015" & data$DateViste < "15/07/2015"),]
subdata <- data[which(data$DateViste > "01/07/2015"),]
subdata <- data[which(data$DateViste > "31/07/2015"),]
subdata <- data[which(data$DateViste > "31/07/2015"),]
2data <- data[which(data$DateViste > "01/07/2015" & data$DateViste < "15/07/2015"),]
data2 <- data[which(data$DateViste > "01/07/2015" & data$DateViste < "15/07/2015"),]
c3
c3 <- order(c3$c1)
c3
c3 <- order(c3[,1])
c3[order(c3$c1),]
c3[order(c3[,1]),]
c3 <- order(c3[,1])
data2 <- data[which(data$DateViste < "15/07/2015"),]
str(subdata)
summary(subdata)
summary(data)
data2 <- data[which(data$DateViste < "15/07/2015"),]
subdata <- data[which(data$DateViste > "31/07/2015"),]
subdata <- data[which(data$DateViste > "15/07/2015"),]
subdata <- data[which(data$DateViste < "15/07/2015"),]
subdata <- data[which(data$DateViste < as.Date("15/07/2015"),]
subdata <- data[which(data$DateViste < as.Date("15/07/2015")),]
subdata <- data[which(data$DateViste < as.Date("15/07/2015", "%d/%m/%Y")),]
subdata <- data[which(data$DateViste >= as.Date("1/07/2015", "%d/%m/%Y")) & data$DateViste <= as.Date("31/07/2015", "%d/%m/%Y")) ,]
subdata <- data[which(data$DateViste >= as.Date("1/07/2015", "%d/%m/%Y") & data$DateViste <= as.Date("31/07/2015", "%d/%m/%Y")) ,]
######################################################
#Script pour avoir les informations sur les ruptures #
######################################################
#Fonction pour savoir s'il y a rupture
rupture <- function(x, medicament){
#Ranger par ordre date
# order(x)
stockout <- 0
#Loop à travers les dates
for (i in seq_len(nrow(x))){
#Variables pour le comptage
compteurRupture <- 0
dateRupture <- 0
#Conditions pour les ruptures
## Première rupture
if (x$medicament == 88 & compteurRupture == 0) {
dateRupture <- x$DateViste
compteurRupture <- compteurRupture + 1
}
## Deuxième rupture même date
if (x$medicament == 88 & compteurRupture > 0 & x$DateViste == dateRupture) {
}
## Deuxième rupture date différente
if (x$medicament == 88 & compteurRupture > 0 & x$DateViste > dateRupture) {
incrementationRupture <- as.integer(x$DateViste - dateRupture)
compteurRupture <- compteurRupture + incrementationRupture
dateRupture <- x$DateViste
}
## rupture > 7 jours
if (compteurRupture >= 7) {
stockout <- stockout + 1
## ravitaillement
if (x$medicament == 1) {
compteurRupture <- 0
dateRupture <- 0
}
}
}
}
rupture(subdata, Coartem0515)
for (i in seq_len(nrow(subdata))){
#Variables pour le comptage
compteurRupture <- 0
dateRupture <- 0
#Conditions pour les ruptures
## Première rupture
if (subdata$Coartem0515 == 88 & compteurRupture == 0) {
dateRupture <- subdata$DateViste
compteurRupture <- compteurRupture + 1
}
## Deuxième rupture même date
if (subdata$Coartem0515 == 88 & compteurRupture > 0 & subdata$DateViste == dateRupture) {
}
## Deuxième rupture date différente
if (subdata$Coartem0515 == 88 & compteurRupture > 0 & subdata$DateViste > dateRupture) {
incrementationRupture <- as.integer(subdata$DateViste - dateRupture)
compteurRupture <- compteurRupture + incrementationRupture
dateRupture <- subdata$DateViste
}
## rupture > 7 jours
if (compteurRupture >= 7) {
stockout <- stockout + 1
## ravitaillement
if (subdata$Coartem0515 == 1) {
compteurRupture <- 0
dateRupture <- 0
}
}
}
warnings()
subdata[order(DateViste),]
subdata[order(subdata$DateViste),]
d <- subdata[order(subdata$DateViste),]
head(d)
d <- subdata[order(subdata$DateViste, subdata$VillageASC),]
head(d)
d <- subdata[order(subdata$VillageASC, subdata$DateViste),]
head(d)
head(d, 25)
testa <- function(x, medicament){
print(x[1,medicament])
}
testa(data, Coartem0515)
data[1,Coartem0515]
data[1,"Coartem0515"]
testa <- function(x, medicament){
print(x[1,paste(""",medicament,""")])
}
testa <- function(x, medicament){
print(x[1,medicament])
}
testa(data, "Coartem0515")
rupture <- function(x, medicament){
#Ranger par ordre date
x[order(x$VillageASC, x$DateViste),]
stockout <- 0
#Loop à travers les dates
for (i in seq_len(nrow(x))){
#Variables pour le comptage
compteurRupture <- 0
dateRupture <- 0
#Conditions pour les ruptures
## Première rupture
if (x[,medicament] == 88 & compteurRupture == 0) {
dateRupture <- x$DateViste
compteurRupture <- compteurRupture + 1
}
## Deuxième rupture même date
if (x[,medicament] == 88 & compteurRupture > 0 & x$DateViste == dateRupture) {
}
## Deuxième rupture date différente
if (x[,medicament] == 88 & compteurRupture > 0 & x$DateViste > dateRupture) {
incrementationRupture <- as.integer(x$DateViste - dateRupture)
compteurRupture <- compteurRupture + incrementationRupture
dateRupture <- x$DateViste
}
## rupture > 7 jours
if (compteurRupture >= 7) {
stockout <- stockout + 1
## ravitaillement
if (x[,medicament] == 1) {
compteurRupture <- 0
dateRupture <- 0
}
}
}
}
rupture(data, "Coartem0515")
rupture <- function(x, medicament){
#Ranger par ordre date
x[order(x$VillageASC, x$DateViste),]
stockout <- 0
#Loop à travers les dates
for (i in seq_len(nrow(x))){
#Variables pour le comptage
compteurRupture <- 0
dateRupture <- 0
#Conditions pour les ruptures
## Première rupture
if (x[,medicament] == 88 & compteurRupture == 0) {
dateRupture <- x$DateViste
compteurRupture <- compteurRupture + 1
}
## Deuxième rupture même date
if (x[,medicament] == 88 & compteurRupture > 0 & x$DateViste == dateRupture) {
}
## Deuxième rupture date différente
if (x[,medicament] == 88 & compteurRupture > 0 & x$DateViste > dateRupture) {
incrementationRupture <- as.integer(x$DateViste - dateRupture)
compteurRupture <- compteurRupture + incrementationRupture
dateRupture <- x$DateViste
}
## rupture > 7 jours
if (compteurRupture >= 7) {
stockout <- stockout + 1
}
## ravitaillement
if (x[,medicament] == 1) {
compteurRupture <- 0
dateRupture <- 0
}
}
}
rupture(data, "Coartem0515")
source("getRupture.R")
rupture(data, "Coartem0515")
warnings()
source("getRupture.R")
rupture(data, "Coartem0515")
source("getRupture.R")
rupture(data, "Coartem0515")
?runif
source("getRupture.R")
rupture(data, "Coartem0515")
source("getRupture.R")
rupture(data, "Coartem0515")
source("getRupture.R")
source("getRupture.R")
source("getRupture.R")
source("getRupture.R")
source("getRupture.R")
rupture(data, "Coartem0515")
source("getRupture.R")
rupture(data, "Coartem0515")
source("getRupture.R")
rupture(data, "Coartem0515")
rupture(subdata, "Coartem0515")
?ifelse
source("test.R")
source("test.R")
rupture(subdata, "Coartem0515")
source("test.R")
rupture(subdata, "Coartem0515")
source("test.R")
source("test.R")
rupture(subdata, "Coartem0515")
rupture(subdata, "Coartem0515")
source("test.R")
rupture(subdata, "Coartem0515")
source("test.R")
rupture(subdata, "Coartem0515")
source("test.R")
rupture(subdata, "Coartem1525")
source("test.R")
rupture(subdata, "Coartem1525")
source("test.R")
rupture(subdata, "Coartem1525")
source("test.R")
rupture(subdata, "Coartem1525")
source("test.R")
rupture(subdata, "Coartem1525")
rupture(subdata, "Coartem1525")
source("test.R")
rupture(subdata, "Coartem1525")
source("test.R")
rupture(subdata, "Coartem1525")
source("test.R")
source("test.R")
rupture(subdata, "Coartem1525")
source("test.R")
rupture(subdata, "Coartem1525")
